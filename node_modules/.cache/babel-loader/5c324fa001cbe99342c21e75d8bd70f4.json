{"ast":null,"code":"import _slicedToArray from\"/home/dinesh/Desktop/Account/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import*as yup from'yup';import Axios from'axios';function NewDebit(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),reason=_useState4[0],setReason=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setformData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),credit=_useState8[0],setCredit=_useState8[1];console.log(formData);//const offline = \"http://localhost:2000\"\nvar online=\"https://accountnote.herokuapp.com\";useEffect(function(){if(formData){Axios.post(online+\"/debit\",formData).then(function(res){console.log(res.data);}).catch(function(err){console.log(err);});setTimeout(get,1000);}},[formData]);useEffect(function(){Axios.get(online+\"/credit\").then(function(res){console.log(res.data);setCredit(res.data);}).catch(function(err){console.log(err);});},[]);useEffect(function(){if(reason){Axios.get(online+\"/credit/amount\",{params:{reason:reason}}).then(function(res){setAmount(res.data.availableAmount);}).catch(function(err){console.log(err);});}},[reason]);var get=function get(){Axios.get(online+\"/debit\").then(function(res){console.log(res.data);}).catch(function(err){console.log(err);});};var initialValue={credit:\"\",reason:\"\",amount:\"\"};var submit=function submit(values,props){setformData(values);props.resetForm();};var validationSchema=yup.object({credit:yup.string().required(\"Plese Select Reason\"),reason:yup.string().required(\"Reason Required\"),amount:yup.string().required(\"Amount Required\")});return/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Formik,{initialValues:initialValue,onSubmit:submit,validationSchema:validationSchema},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{as:\"select\",name:\"credit\",className:\"form-control mt-2\",placeholder:\"Enter Reason for Debit\",onClick:function onClick(e){return setReason(e.target.value);}//value={reason}                                                                               \n},/*#__PURE__*/React.createElement(\"option\",{value:\"\",amount:\"\"},\"Select From\"),credit.map(function(option,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:option.reason},option.reason);})),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"credit\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"available\",className:\"form-control mt-2\",value:\"available Amount \".concat(amount),disabled:true})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"reason\",className:\"form-control mt-2\",placeholder:\"Enter Reason for Debit\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"reason\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{type:\"number\",name:\"amount\",className:\"form-control mt-2\",placeholder:\"Enter amount to Debit\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"amount\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w3-center\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn w3-red mt-2\"},\"Debit\")))));}export default NewDebit;","map":{"version":3,"sources":["/home/dinesh/Desktop/Account/src/component/NewDebit.js"],"names":["React","useState","useEffect","Formik","Form","Field","ErrorMessage","yup","Axios","NewDebit","amount","setAmount","reason","setReason","formData","setformData","credit","setCredit","console","log","online","post","then","res","data","catch","err","setTimeout","get","params","availableAmount","initialValue","submit","values","props","resetForm","validationSchema","object","string","required","e","target","value","map","option","index"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,YAA9B,KAAkD,QAAlD,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,QAASC,CAAAA,QAAT,EAAoB,eACYR,QAAQ,EADpB,wCACTS,MADS,eACDC,SADC,8BAEYV,QAAQ,EAFpB,yCAETW,MAFS,eAEDC,SAFC,8BAGgBZ,QAAQ,EAHxB,yCAGTa,QAHS,eAGCC,WAHD,8BAIYd,QAAQ,CAAC,EAAD,CAJpB,yCAITe,MAJS,eAIDC,SAJC,eAMhBC,OAAO,CAACC,GAAR,CAAYL,QAAZ,EAEA;AACA,GAAMM,CAAAA,MAAM,CAAG,mCAAf,CAGAlB,SAAS,CAAC,UAAM,CACZ,GAAIY,QAAJ,CAAc,CACVN,KAAK,CAACa,IAAN,CAAWD,MAAM,CAAC,QAAlB,CAA4BN,QAA5B,EACKQ,IADL,CACU,SAAAC,GAAG,CAAI,CACTL,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,IAAhB,EACH,CAHL,EAIKC,KAJL,CAIW,SAAAC,GAAG,CAAI,CACVR,OAAO,CAACC,GAAR,CAAYO,GAAZ,EACH,CANL,EAQAC,UAAU,CAACC,GAAD,CAAM,IAAN,CAAV,CACH,CACJ,CAZQ,CAYP,CAACd,QAAD,CAZO,CAAT,CAcAZ,SAAS,CAAC,UAAM,CACZM,KAAK,CAACoB,GAAN,CAAUR,MAAM,CAAC,SAAjB,EACKE,IADL,CACU,SAAAC,GAAG,CAAI,CACTL,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,IAAhB,EACAP,SAAS,CAACM,GAAG,CAACC,IAAL,CAAT,CACH,CAJL,EAKKC,KALL,CAKW,SAAAC,GAAG,CAAI,CACVR,OAAO,CAACC,GAAR,CAAYO,GAAZ,EACH,CAPL,EAQH,CATQ,CASN,EATM,CAAT,CAWAxB,SAAS,CAAC,UAAM,CACZ,GAAIU,MAAJ,CAAY,CACRJ,KAAK,CAACoB,GAAN,CAAUR,MAAM,CAAC,gBAAjB,CAAmC,CAAES,MAAM,CAAE,CAAEjB,MAAM,CAAEA,MAAV,CAAV,CAAnC,EACKU,IADL,CACU,SAAAC,GAAG,CAAI,CACTZ,SAAS,CAACY,GAAG,CAACC,IAAJ,CAASM,eAAV,CAAT,CACH,CAHL,EAIKL,KAJL,CAIW,SAAAC,GAAG,CAAI,CACVR,OAAO,CAACC,GAAR,CAAYO,GAAZ,EACH,CANL,EAOH,CAEJ,CAXQ,CAWN,CAACd,MAAD,CAXM,CAAT,CAeA,GAAMgB,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACdpB,KAAK,CAACoB,GAAN,CAAUR,MAAM,CAAC,QAAjB,EACKE,IADL,CACU,SAAAC,GAAG,CAAI,CACTL,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,IAAhB,EAEH,CAJL,EAKKC,KALL,CAKW,SAAAC,GAAG,CAAI,CACVR,OAAO,CAACC,GAAR,CAAYO,GAAZ,EACH,CAPL,EAQH,CATD,CAaA,GAAMK,CAAAA,YAAY,CAAG,CACjBf,MAAM,CAAE,EADS,CAEjBJ,MAAM,CAAE,EAFS,CAGjBF,MAAM,CAAE,EAHS,CAArB,CAKA,GAAMsB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,MAAD,CAASC,KAAT,CAAmB,CAC9BnB,WAAW,CAACkB,MAAD,CAAX,CACAC,KAAK,CAACC,SAAN,GAEH,CAJD,CAKA,GAAMC,CAAAA,gBAAgB,CAAG7B,GAAG,CAAC8B,MAAJ,CAAW,CAChCrB,MAAM,CAAET,GAAG,CAAC+B,MAAJ,GAAaC,QAAb,CAAsB,qBAAtB,CADwB,CAEhC3B,MAAM,CAAEL,GAAG,CAAC+B,MAAJ,GAAaC,QAAb,CAAsB,iBAAtB,CAFwB,CAGhC7B,MAAM,CAAEH,GAAG,CAAC+B,MAAJ,GAAaC,QAAb,CAAsB,iBAAtB,CAHwB,CAAX,CAAzB,CAQA,mBACI,2BAAK,SAAS,CAAC,MAAf,eACI,oBAAC,MAAD,EACI,aAAa,CAAER,YADnB,CAEI,QAAQ,CAAEC,MAFd,CAGI,gBAAgB,CAAEI,gBAHtB,eAKI,oBAAC,IAAD,mBACI,4CACI,oBAAC,KAAD,EACI,EAAE,CAAC,QADP,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,mBAHd,CAII,WAAW,CAAC,wBAJhB,CAKI,OAAO,CAAE,iBAACI,CAAD,QAAO3B,CAAAA,SAAS,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EACb;AANA,eAQI,8BAAQ,KAAK,CAAC,EAAd,CAAiB,MAAM,CAAC,EAAxB,gBARJ,CAUQ1B,MAAM,CAAC2B,GAAP,CAAW,SAACC,MAAD,CAASC,KAAT,qBACP,8BAAQ,GAAG,CAAEA,KAAb,CAAoB,KAAK,CAAED,MAAM,CAAChC,MAAlC,EAA4CgC,MAAM,CAAChC,MAAnD,CADO,EAAX,CAVR,CADJ,cAgBI,oBAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,EAhBJ,CADJ,cAoBI,4CACI,oBAAC,KAAD,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,WAFT,CAGI,SAAS,CAAC,mBAHd,CAII,KAAK,4BAAsBF,MAAtB,CAJT,CAKI,QAAQ,KALZ,EADJ,CApBJ,cA8BI,4CACI,oBAAC,KAAD,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,mBAHd,CAII,WAAW,CAAC,wBAJhB,EADJ,cAOI,oBAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,EAPJ,CA9BJ,cAwCI,4CACI,oBAAC,KAAD,EACI,IAAI,CAAC,QADT,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,mBAHd,CAII,WAAW,CAAC,uBAJhB,EADJ,cAOI,oBAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,EAPJ,CAxCJ,cAiDI,2BAAK,SAAS,CAAC,WAAf,eACI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,UADJ,CAjDJ,CALJ,CADJ,CADJ,CAgEH,CAED,cAAeD,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\nimport Axios from 'axios';\n\n\nfunction NewDebit() {\n    const [amount, setAmount] = useState()\n    const [reason, setReason] = useState()\n    const [formData, setformData] = useState()\n    const [credit, setCredit] = useState([])\n\n    console.log(formData)\n\n    //const offline = \"http://localhost:2000\"\n    const online = \"https://accountnote.herokuapp.com\"\n\n\n    useEffect(() => {\n        if (formData) {\n            Axios.post(online+\"/debit\", formData)\n                .then(res => {\n                    console.log(res.data)\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n\n            setTimeout(get, 1000)\n        }\n    },[formData])\n\n    useEffect(() => {\n        Axios.get(online+\"/credit\")\n            .then(res => {\n                console.log(res.data)\n                setCredit(res.data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }, [])\n\n    useEffect(() => {\n        if (reason) {\n            Axios.get(online+\"/credit/amount\", { params: { reason: reason } })\n                .then(res => {\n                    setAmount(res.data.availableAmount)\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n        }\n\n    }, [reason])\n\n\n\n    const get = () => {\n        Axios.get(online+\"/debit\")\n            .then(res => {\n                console.log(res.data)\n\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n\n\n    const initialValue = {\n        credit: \"\",\n        reason: \"\",\n        amount: \"\"\n    }\n    const submit = (values, props) => {        \n        setformData(values)\n        props.resetForm()        \n\n    }\n    const validationSchema = yup.object({\n        credit: yup.string().required(\"Plese Select Reason\"),\n        reason: yup.string().required(\"Reason Required\"),\n        amount: yup.string().required(\"Amount Required\")\n    })\n\n\n\n    return (\n        <div className=\"mt-3\">\n            <Formik\n                initialValues={initialValue}\n                onSubmit={submit}\n                validationSchema={validationSchema}\n            >\n                <Form>\n                    <div>\n                        <Field\n                            as=\"select\"\n                            name=\"credit\"\n                            className=\"form-control mt-2\"\n                            placeholder=\"Enter Reason for Debit\"\n                            onClick={(e) => setReason(e.target.value)}\n                        //value={reason}                                                                               \n                        >\n                            <option value=\"\" amount=\"\">Select From</option>\n                            {\n                                credit.map((option, index) => (\n                                    <option key={index} value={option.reason} >{option.reason}</option>\n                                ))\n                            }\n                        </Field>\n                        <ErrorMessage name=\"credit\" />\n                    </div>\n\n                    <div>\n                        <Field\n                            type=\"text\"\n                            name=\"available\"\n                            className=\"form-control mt-2\"\n                            value={`available Amount ${amount}`}\n                            disabled\n                        />\n                    </div>\n\n                    <div>\n                        <Field\n                            type=\"text\"\n                            name=\"reason\"\n                            className=\"form-control mt-2\"\n                            placeholder=\"Enter Reason for Debit\"\n                        />\n                        <ErrorMessage name=\"reason\" />\n                    </div>\n\n                    <div>\n                        <Field\n                            type=\"number\"\n                            name=\"amount\"\n                            className=\"form-control mt-2\"\n                            placeholder=\"Enter amount to Debit\"\n                        />\n                        <ErrorMessage name=\"amount\" />\n                    </div>\n                    <div className=\"w3-center\">\n                        <button type=\"submit\" className=\"btn w3-red mt-2\" >Debit</button>\n                    </div>\n                </Form>\n\n            </Formik>\n        </div>\n    )\n}\n\nexport default NewDebit\n"]},"metadata":{},"sourceType":"module"}